{"openapi":"3.0.0","info":{"title":"REST API Canile Virtuale","version":"1.0.0"},"tags":null,"servers":[{"url":"http://localhost:3000/api/v1"}],"components":{"schemas":{"Dog":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"breed":{"type":"string"},"age":{"type":"number"},"status":{"type":"string"},"created_at":{"type":"string","example":"2021-10-20T13:03:35.226Z"},"updated_at":{"type":"string","example":"2021-10-20T13:03:35.226Z"}},"title":"Dog"},"User":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"},"dogs":{"type":"array","items":{"$ref":"#/components/schemas/Dog"}}}},"DogRegistration":{"type":"object","properties":{"name":{"type":"string"},"breed":{"type":"string"},"age":{"type":"number"}},"title":"DogRegistration"},"Stats":{"type":"object","properties":{"_id":{"type":"object","properties":{"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"}}},"available":{"type":"number"},"adopted":{"type":"number"},"in_custody":{"type":"number"}},"title":"Stats"},"ErrorResponse":{"type":"object","properties":{"message":{"type":"string"}},"title":"ErrorResponse"},"Registration":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"title":"Registration"}}},"paths":{"/dogs/stats":{"get":{"tags":["Dogs"],"operationId":"getDogStats","summary":"Restituisce le statistiche giornaliere dei cani","responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","$ref":"#/components/schemas/Stats"},"title":"ResponseGetDogStats"}}},"description":"OutputGetDogStats"}}}},"/dogs/":{"get":{"tags":["Dogs"],"operationId":"getDogs","summary":"Restituisce la lista di tutti i cani presenti nel canile","responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","$ref":"#/components/schemas/Dog"},"title":"ResponseGetDogs"}}},"description":"OutputGetDogs"}}},"post":{"tags":["Dogs"],"operationId":"registerDog","summary":"Registra un cane nel canile","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/Dog","title":"ResponseRegisterDog"}}},"description":"OutputRegisterDog"},"400":{"content":{"application/json":{"schema":{"title":"ResponseRegisterDog"}}},"description":"OutputRegisterDog"}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/DogRegistration","title":"InputRegisterDog"}}}}}},"/dogs/custody":{"post":{"tags":["Dogs"],"operationId":"putDogInCustody","summary":"Aggiunge un cane in custodia","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/Dog","title":"ResponsePutDogInCustody"}}},"description":"OutputPutDogInCustody"}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/DogRegistration","title":"InputPutDogInCustody"}}}}}},"/dogs/{dogId}/":{"get":{"tags":["Dogs"],"operationId":"getDogByID","summary":"Restituisce il cane con l'id associato","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/Dog","title":"ResponseGetDogByID"}}},"description":"OutputGetDogByID"},"404":{"content":{"application/json":{"schema":{"title":"ResponseGetDogByID"}}},"description":"OutputGetDogByID"}},"parameters":[{"name":"dogId","in":"path","required":true,"schema":{"type":"string"}}]}},"/dogs/{dogId}/custody":{"delete":{"tags":["Dogs"],"operationId":"releaseDogFromCustody","summary":"Rimuove il cane dalla custodia | Permission required: [\"delete\", \"Dog\"]","description":"\n**Permission required**: [\"delete\", \"Dog\"]\n","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/Dog","title":"ResponseReleaseDogFromCustody"}}},"description":"OutputReleaseDogFromCustody"},"401":{"content":{"application/json":{"schema":{"title":"ResponseReleaseDogFromCustody"}}},"description":"OutputReleaseDogFromCustody"},"404":{"content":{"application/json":{"schema":{"title":"ResponseReleaseDogFromCustody"}}},"description":"OutputReleaseDogFromCustody"}},"parameters":[{"name":"dogId","in":"path","required":true,"schema":{"type":"string"}}]}},"/dogs/{dogId}/adopt":{"put":{"tags":["Dogs"],"operationId":"adoptDog","summary":"Adotta un cane del canile con l'id specificato","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/Dog","title":"ResponseAdoptDog"}}},"description":"OutputAdoptDog"},"400":{"content":{"application/json":{"schema":{"title":"ResponseAdoptDog"}}},"description":"OutputAdoptDog"},"401":{"content":{"application/json":{"schema":{"title":"ResponseAdoptDog"}}},"description":"OutputAdoptDog"},"404":{"content":{"application/json":{"schema":{"title":"ResponseAdoptDog"}}},"description":"OutputAdoptDog"}},"parameters":[{"name":"dogId","in":"path","required":true,"schema":{"type":"string"}}]}},"/auth/register":{"post":{"tags":["Auth"],"operationId":"register","summary":"Effettua la registrazione di un utente","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/User","title":"ResponseRegister"}}},"description":"OutputRegister"},"409":{"content":{"application/json":{"schema":{"title":"ResponseRegister"}}},"description":"OutputRegister"}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/Registration","title":"InputRegister"}}}}}},"/auth/login":{"post":{"tags":["Auth"],"operationId":"login","summary":"Effettua il login","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/User","title":"ResponseLogin"}}},"description":"OutputLogin"},"401":{"content":{"application/json":{"schema":{"title":"ResponseLogin"}}},"description":"OutputLogin"}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","$ref":"#/components/schemas/Registration","title":"InputLogin"}}}}}}}}